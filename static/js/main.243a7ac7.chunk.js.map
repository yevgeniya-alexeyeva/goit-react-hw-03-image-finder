{"version":3,"sources":["components/Modal/Modal.module.css","components/GalleryItem/GalleryItem.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.jsx","components/GalleryItem/GalleryItem.jsx","components/Button/Button.jsx","api/pixabayKey.js","api/api.js","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","props","onSubmit","ref","useRef","className","styles","SearchForm","e","current","value","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","GalleryItem","imgUrl","imgName","onImgClick","ImageGalleryItem","src","alt","ImageGalleryItemImage","loading","onClick","Button","key","BASE_URL","fetchImagesWithQuery","a","query","page","itemPerPage","axios","get","response","ImageGallery","state","images","isLoading","showImages","setState","then","data","hits","length","alert","prevState","window","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","error","console","log","finally","prevProps","this","map","image","webformatURL","name","largeImageURL","id","color","height","width","timeout","Component","modalRoot","querySelector","Modal","closeModal","onClose","code","addEventListener","removeEventListener","url","createPortal","Overlay","target","currentTarget","Image","App","modalIsOpen","largeImgUrl","largeImgName","getQuery","preventDefault","trim","split","join","reset","toggleModal","showBigImage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.243a7ac7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__XvS6B\",\"Modal\":\"Modal_Modal__3sQcD\",\"Image\":\"Modal_Image__2MlJH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"GalleryItem_ImageGalleryItem__31xhr\",\"ImageGalleryItemImage\":\"GalleryItem_ImageGalleryItemImage__2xJ_F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__fbeOW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__I4vJI\"};","import { useRef } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Searchbar = (props) => {\r\n  const { onSubmit } = props;\r\n  const ref = useRef(null);\r\n  return (\r\n    <header className={styles.Searchbar}>\r\n      <form\r\n        className={styles.SearchForm}\r\n        onSubmit={(e) => onSubmit(e, ref.current.value)}\r\n      >\r\n        <button type=\"submit\" className={styles.SearchFormButton}>\r\n          <span className={styles.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          ref={ref}\r\n          className={styles.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import styles from \"./GalleryItem.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst GalleryItem = (props) => {\r\n  const { imgUrl, imgName, onImgClick } = props;\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={imgUrl}\r\n        alt={imgName}\r\n        className={styles.ImageGalleryItemImage}\r\n        loading=\"lazy\"\r\n        onClick={onImgClick}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nGalleryItem.propTypes = {\r\n  imgUrl: PropTypes.string,\r\n  imgName: PropTypes.string,\r\n  onImgClick: PropTypes.func,\r\n};\r\nexport default GalleryItem;\r\n","import styles from \"./Button.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = (props) => {\r\n  const { onClick } = props;\r\n  return (\r\n    <button type=\"button\" className={styles.Button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","const key = \"20701494-a6ebf8a672042d83fc6e30e69&q\";\r\nexport default key;\r\n","import axios from \"axios\";\r\nimport key from \"./pixabayKey\";\r\n\r\nconst BASE_URL = \"https://pixabay.com/api\";\r\n\r\nconst fetchImagesWithQuery = async (query = 1, page = 1, itemPerPage = 12) => {\r\n  const response = await axios.get(\r\n    `${BASE_URL}/?key=${key}=${query}&image_type=photo&orientation=horizontal&per_page=${itemPerPage}&page=${page}`\r\n  );\r\n  return response;\r\n};\r\nexport default fetchImagesWithQuery;\r\n","import { Component } from \"react\";\r\nimport GalleryItem from \"../GalleryItem\";\r\nimport Button from \"../Button\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport fetchImagesWithQuery from \"../../api/api\";\r\nimport styles from \"./ImageGallery.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    images: [],\r\n    page: 1,\r\n    isLoading: false,\r\n  };\r\n\r\n  static propTypes = {\r\n    query: PropTypes.string.isRequired,\r\n    onImgClick: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { query } = this.props;\r\n\r\n    if (prevProps.query !== query) {\r\n      this.setState(() => ({ images: [], page: 1 }), this.showImages);\r\n    }\r\n  }\r\n\r\n  showImages = () => {\r\n    const { page } = this.state;\r\n    const { query } = this.props;\r\n\r\n    this.setState({ isLoading: true });\r\n\r\n    fetchImagesWithQuery(query, page)\r\n      .then((response) => {\r\n        if (response.data.hits.length === 0)\r\n          alert(\"No result for this request. Try again\");\r\n\r\n        this.setState((prevState) => ({\r\n          images: [...prevState.images, ...response.data.hits],\r\n          page: prevState.page + 1,\r\n        }));\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      })\r\n      .catch((error) => console.log(error))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  render() {\r\n    const { images, isLoading } = this.state;\r\n    const { onImgClick } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <ul className={styles.ImageGallery}>\r\n          {images.map((image) => {\r\n            const { query } = this.props;\r\n            return (\r\n              <GalleryItem\r\n                key={image.id}\r\n                imgUrl={image.webformatURL}\r\n                name={`${query} image`}\r\n                onImgClick={() => onImgClick(image.largeImageURL, query)}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n        {isLoading ? (\r\n          <Loader\r\n            type=\"ThreeDots\"\r\n            color=\"#3f51b5\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000}\r\n          />\r\n        ) : (\r\n          images.length > 0 && <Button onClick={this.showImages} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import { Component } from \"react\";\r\nimport styles from \"./Modal.module.css\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    url: PropTypes.string.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  closeModal = (e) => {\r\n    const { onClose } = this.props;\r\n    if (e.code === \"Escape\") onClose();\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.closeModal);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.closeModal);\r\n  }\r\n\r\n  render() {\r\n    const { url, name, onClose } = this.props;\r\n    return createPortal(\r\n      <div\r\n        className={styles.Overlay}\r\n        onClick={(e) => {\r\n          if (e.target === e.currentTarget) onClose();\r\n        }}\r\n      >\r\n        <div className={styles.Modal}>\r\n          <img className={styles.Image} src={url} alt={name} />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import \"./App.css\";\nimport { Component } from \"react\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Modal from \"./components/Modal\";\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    modalIsOpen: false,\n    largeImgUrl: \"\",\n    largeImgName: \"\",\n  };\n\n  getQuery = (e, query) => {\n    e.preventDefault();\n    this.setState({ query: query.trim().split(\" \").join(\"+\") });\n    e.currentTarget.reset();\n  };\n\n  toggleModal = () => {\n    this.setState(({ modalIsOpen }) => ({\n      modalIsOpen: !modalIsOpen,\n    }));\n  };\n  showBigImage = (url, name) => {\n    this.toggleModal();\n\n    this.setState({\n      largeImgUrl: url,\n      largeImgName: name,\n    });\n  };\n\n  render() {\n    const { query, modalIsOpen, largeImgUrl, largeImgName } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.getQuery} />\n        <ImageGallery query={query} onImgClick={this.showBigImage} />\n        {modalIsOpen && (\n          <Modal\n            url={largeImgUrl}\n            name={largeImgName}\n            onClose={this.toggleModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__mq38j\",\"SearchForm\":\"Searchbar_SearchForm__3ckF1\",\"SearchFormButton\":\"Searchbar_SearchFormButton__246o3\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1b-7I\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2T3yw\"};"],"sourceRoot":""}