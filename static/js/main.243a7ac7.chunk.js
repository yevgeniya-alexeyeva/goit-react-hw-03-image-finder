(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__XvS6B",Modal:"Modal_Modal__3sQcD",Image:"Modal_Image__2MlJH"}},12:function(e,t,a){e.exports={ImageGalleryItem:"GalleryItem_ImageGalleryItem__31xhr",ImageGalleryItemImage:"GalleryItem_ImageGalleryItemImage__2xJ_F"}},23:function(e,t,a){e.exports={Button:"Button_Button__fbeOW"}},27:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__I4vJI"}},32:function(e,t,a){},33:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(9),c=a.n(o),l=(a(32),a(4)),s=a(5),i=a(7),u=a(6),m=(a(33),a(8)),g=a.n(m),h=a(0),p=function(e){var t=e.onSubmit,a=Object(n.useRef)(null);return Object(h.jsx)("header",{className:g.a.Searchbar,children:Object(h.jsxs)("form",{className:g.a.SearchForm,onSubmit:function(e){return t(e,a.current.value)},children:[Object(h.jsx)("button",{type:"submit",className:g.a.SearchFormButton,children:Object(h.jsx)("span",{className:g.a.SearchFormButtonLabel,children:"Search"})}),Object(h.jsx)("input",{ref:a,className:g.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},d=a(14),b=a(12),j=a.n(b),f=function(e){var t=e.imgUrl,a=e.imgName,n=e.onImgClick;return Object(h.jsx)("li",{className:j.a.ImageGalleryItem,children:Object(h.jsx)("img",{src:t,alt:a,className:j.a.ImageGalleryItemImage,loading:"lazy",onClick:n})})},y=a(23),I=a.n(y),O=function(e){var t=e.onClick;return Object(h.jsx)("button",{type:"button",className:I.a.Button,onClick:t,children:"Load more"})},v=a(24),_=a.n(v),S=a(13),x=a.n(S),w=a(25),k=a(26),N=a.n(k),C="20701494-a6ebf8a672042d83fc6e30e69&q",F="https://pixabay.com/api",M=function(){var e=Object(w.a)(x.a.mark((function e(){var t,a,n,r,o=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:1,a=o.length>1&&void 0!==o[1]?o[1]:1,n=o.length>2&&void 0!==o[2]?o[2]:12,e.next=5,N.a.get("".concat(F,"/?key=").concat(C,"=").concat(t,"&image_type=photo&orientation=horizontal&per_page=").concat(n,"&page=").concat(a));case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=a(27),q=a.n(B),G=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={images:[],page:1,isLoading:!1},e.showImages=function(){var t=e.state.page,a=e.props.query;e.setState({isLoading:!0}),M(a,t).then((function(t){0===t.data.hits.length&&alert("No result for this request. Try again"),e.setState((function(e){return{images:[].concat(Object(d.a)(e.images),Object(d.a)(t.data.hits)),page:e.page+1}})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return console.log(e)})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.query;e.query!==t&&this.setState((function(){return{images:[],page:1}}),this.showImages)}},{key:"render",value:function(){var e=this,t=this.state,a=t.images,n=t.isLoading,r=this.props.onImgClick;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("ul",{className:q.a.ImageGallery,children:a.map((function(t){var a=e.props.query;return Object(h.jsx)(f,{imgUrl:t.webformatURL,name:"".concat(a," image"),onImgClick:function(){return r(t.largeImageURL,a)}},t.id)}))}),n?Object(h.jsx)(_.a,{type:"ThreeDots",color:"#3f51b5",height:100,width:100,timeout:3e3}):a.length>0&&Object(h.jsx)(O,{onClick:this.showImages})]})}}]),a}(n.Component),L=a(10),U=a.n(L),T=document.querySelector("#modal-root"),D=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).closeModal=function(t){var a=e.props.onClose;"Escape"===t.code&&a()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.closeModal)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.closeModal)}},{key:"render",value:function(){var e=this.props,t=e.url,a=e.name,n=e.onClose;return Object(o.createPortal)(Object(h.jsx)("div",{className:U.a.Overlay,onClick:function(e){e.target===e.currentTarget&&n()},children:Object(h.jsx)("div",{className:U.a.Modal,children:Object(h.jsx)("img",{className:U.a.Image,src:t,alt:a})})}),T)}}]),a}(n.Component),E=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={query:"",modalIsOpen:!1,largeImgUrl:"",largeImgName:""},e.getQuery=function(t,a){t.preventDefault(),e.setState({query:a.trim().split(" ").join("+")}),t.currentTarget.reset()},e.toggleModal=function(){e.setState((function(e){return{modalIsOpen:!e.modalIsOpen}}))},e.showBigImage=function(t,a){e.toggleModal(),e.setState({largeImgUrl:t,largeImgName:a})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.query,a=e.modalIsOpen,n=e.largeImgUrl,r=e.largeImgName;return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(p,{onSubmit:this.getQuery}),Object(h.jsx)(G,{query:t,onImgClick:this.showBigImage}),a&&Object(h.jsx)(D,{url:n,name:r,onClose:this.toggleModal})]})}}]),a}(n.Component);c.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(E,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__mq38j",SearchForm:"Searchbar_SearchForm__3ckF1",SearchFormButton:"Searchbar_SearchFormButton__246o3",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__1b-7I",SearchFormInput:"Searchbar_SearchFormInput__2T3yw"}}},[[74,1,2]]]);
//# sourceMappingURL=main.243a7ac7.chunk.js.map